param tend = 1.e-6

# Saturation
notsat := alw (abs(OutSat[t])<2)

# (Quasi) Periodicity 
up := In1[t]>1.9
up_next := ev_[7*time_scale, 13*time_scale] (up)
first_up := ev_[0, 13*time_scale] up

down := In1[t]<0.1
down_next := ev_[7*time_scale, 13*time_scale] (down)
first_down := ev_[0, 13*time_scale] down

per := alw_[0, tend] (up => up_next) and alw_[0, tend] (down => down_next)
